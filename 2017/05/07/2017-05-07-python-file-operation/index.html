<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <title>python学习之文件操作 | LanSky</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="Python" />
    
    <meta name="description" content="最近学习了python中关于文件的操作。关于文件及路径的操作，大致可以分为文件的读取和写入、文件及文件夹路径的查找与操作、文件状态的读取操作、 遍历文件夹及文件夹下面的子文件及文件夹。通过这个四个大类的学习，很快我们就能掌握python的文件操作。 ​ 首先我们先来明确一个问题，就是python执行目录和python文件目录。python执行目录是指执行python命令所在的目录。python文">
<meta name="keywords" content="Python">
<meta property="og:type" content="article">
<meta property="og:title" content="python学习之文件操作">
<meta property="og:url" content="http://blog.lansky.me/2017/05/07/2017-05-07-python-file-operation/index.html">
<meta property="og:site_name" content="LanSky">
<meta property="og:description" content="最近学习了python中关于文件的操作。关于文件及路径的操作，大致可以分为文件的读取和写入、文件及文件夹路径的查找与操作、文件状态的读取操作、 遍历文件夹及文件夹下面的子文件及文件夹。通过这个四个大类的学习，很快我们就能掌握python的文件操作。 ​ 首先我们先来明确一个问题，就是python执行目录和python文件目录。python执行目录是指执行python命令所在的目录。python文">
<meta property="og:image" content="http://ww3.sinaimg.cn/large/006tKfTcgy1ffhtoly4sij30sg0is417.jpg">
<meta property="og:updated_time" content="2017-05-13T06:50:39.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="python学习之文件操作">
<meta name="twitter:description" content="最近学习了python中关于文件的操作。关于文件及路径的操作，大致可以分为文件的读取和写入、文件及文件夹路径的查找与操作、文件状态的读取操作、 遍历文件夹及文件夹下面的子文件及文件夹。通过这个四个大类的学习，很快我们就能掌握python的文件操作。 ​ 首先我们先来明确一个问题，就是python执行目录和python文件目录。python执行目录是指执行python命令所在的目录。python文">
<meta name="twitter:image" content="http://ww3.sinaimg.cn/large/006tKfTcgy1ffhtoly4sij30sg0is417.jpg">
    

    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.0.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    

</head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">时间永不停息，要紧的是思考自己现在能做的事，不浪费每一瞬间。</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Technology/">Technology</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Technology/MySQL/">MySQL</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Technology/Python/">Python</a></li></ul></li></ul>
                                    
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/about/">About</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/Technology/">Technology</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/Technology/Python/">Python</a>
    </h1>
</div>
                        <div class="main-body-content">
                            <article id="[post]-2017-05-07-python-file-operation" class="article article-single article-type-[post]" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        python学习之文件操作
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
        <a href="/2017/05/07/2017-05-07-python-file-operation/" class="article-date">
            <time datetime="2017-05-07T06:50:03.000Z" itemprop="datePublished">2017-05-07</time>
        </a>
    </div>

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/Python/">Python</a>
    </div>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <p><img src="http://ww3.sinaimg.cn/large/006tKfTcgy1ffhtoly4sij30sg0is417.jpg" alt="python"></p>
<p>最近学习了python中关于文件的操作。关于文件及路径的操作，大致可以分为文件的读取和写入、文件及文件夹路径的查找与操作、文件状态的读取操作、 遍历文件夹及文件夹下面的子文件及文件夹。通过这个四个大类的学习，很快我们就能掌握python的文件操作。</p>
<p>​ 首先我们先来明确一个问题，就是<code>python执行目录</code>和<code>python文件目录</code>。python执行目录是指执行python命令所在的目录。python文件目录是指python代码文件所在目录。其中在写代码使用”.” 这个表示的是python执行所在的目录。</p>
<p>test.py 脚本文件代码:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># !/usr/bin/env python</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"><span class="keyword">import</span> os</div><div class="line"></div><div class="line"><span class="comment"># 获得当前脚本命名执行的所在目录</span></div><div class="line"><span class="keyword">print</span> os.path.abspath(<span class="string">'.'</span>)</div></pre></td></tr></table></figure>
<p>执行这个python脚本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span> 这里输出是脚本执行所在的路径，而不是脚本文件所在路径。</div><div class="line">localhost:~lansky$: python /demo/test.py</div><div class="line">/Users/lansky</div></pre></td></tr></table></figure>
<h3 id="使用os-path处理路径"><a href="#使用os-path处理路径" class="headerlink" title="使用os.path处理路径"></a>使用<code>os.path</code>处理路径</h3><p>提取文件目录中的文件名和文件目录：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> os </div><div class="line"><span class="comment"># 提取文件路径中文件名</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.basename(<span class="string">'/User/lan/home/shell.py'</span>) <span class="comment"># </span></div><div class="line"><span class="string">'shell.py'</span></div><div class="line"></div><div class="line"><span class="comment"># 提取文件路径中的文件目录</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.dirname(<span class="string">'/User/lan/home/shell.py'</span>)</div><div class="line"><span class="string">'/User/lan/home'</span></div><div class="line"></div><div class="line"><span class="comment"># 把路径分割成dirname和basename，返回一个元组</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.split(<span class="string">'/User/lan/home/shell.py'</span>)</div><div class="line">(<span class="string">'/User/lan/home'</span>, <span class="string">'shell.py'</span>)</div><div class="line"></div><div class="line"><span class="comment"># 分割路径，返回路径名和文件扩展名的元组</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.splitext(<span class="string">'/User/lan/home/shell.py'</span>)</div><div class="line">(<span class="string">'/User/lan/home/shell'</span>, <span class="string">'.py'</span>)</div></pre></td></tr></table></figure>
<p>使用 os.path模块的 <code>join()</code>函数把目录和文件名拼接在一起：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.join(<span class="string">'/User/lan'</span>, <span class="string">'home/shell.py'</span>)</div><div class="line"><span class="string">'/User/lan/home/shell.py'</span></div></pre></td></tr></table></figure>
<p>检测文件：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">#路径存在则返回True,路径损坏返回False 支持目录和文件</span></div><div class="line"><span class="keyword">print</span> os.path.exists(__file__)  </div><div class="line"></div><div class="line"><span class="keyword">print</span> os.path.getatime(__file__)        <span class="comment"># 最近访问时间</span></div><div class="line"><span class="keyword">print</span> os.path.getmtime(__file__)        <span class="comment"># 最近创建时间</span></div><div class="line"><span class="keyword">print</span> os.path.getctime(__file__)        <span class="comment"># 最近修改时间</span></div><div class="line"><span class="keyword">print</span> os.path.getsize(__file__)         <span class="comment"># 文件大小</span></div><div class="line"><span class="keyword">print</span> os.path.isfile(__file__)          <span class="comment"># 是否是文件</span></div><div class="line"><span class="keyword">print</span> os.path.isdir(<span class="string">'/User/lan/home'</span>)     <span class="comment"># 是否是目录</span></div><div class="line"><span class="keyword">print</span> os.path.islink(__file__)          <span class="comment"># 是否是链接</span></div><div class="line"><span class="keyword">print</span> os.path.ismount(__file__)         <span class="comment"># 是否是挂载点</span></div></pre></td></tr></table></figure>
<p>其他方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">#获得当前脚本命名执行的所在目录</span></div><div class="line"><span class="keyword">print</span> os.path.abspath(<span class="string">'.'</span>)</div><div class="line"></div><div class="line"><span class="comment">#把path中包含的"~"和"~user"转换成用户目录</span></div><div class="line"><span class="keyword">print</span> os.path.expanduser(<span class="string">'~/Destop'</span>) </div><div class="line"></div><div class="line"><span class="comment">#判断目录或文件是否相同</span></div><div class="line"><span class="keyword">print</span> os.path.samefile(__file__, <span class="string">'./python_file.py'</span>)</div></pre></td></tr></table></figure>
<h3 id="文件的读取与写入"><a href="#文件的读取与写入" class="headerlink" title="文件的读取与写入"></a>文件的读取与写入</h3><p>​ 读写文件就是请求操作系统打开一个文件对象（通常称为文件描述符），然后，通过操作系统提供的接口从这个文件对象中读取数据（读文件），或者把数据写入这个文件对象（写文件）。在python中，读取文件的的对象成为file-like Object。除了file之外， 还可以是内存的字节流， 网络流，自定义流等等。</p>
<h4 id="文件读取"><a href="#文件读取" class="headerlink" title="文件读取"></a>文件读取</h4><p>要读取一个文件，使用<code>open()</code>函数，传入完整的文件路径和标识符。标识符” r “就是read，表示读取文件。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>fp = open(<span class="string">'./pip-selfcheck.json'</span>, <span class="string">'r'</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> fp</div><div class="line">&lt;open file <span class="string">'./pip-selfcheck.json'</span>, mode <span class="string">'r'</span> at <span class="number">0x1089325d0</span>&gt;</div></pre></td></tr></table></figure>
<p>这里fp 获得了当前文件夹下面的pip-selfcheck.json文件对象， 成功打开文件。然后我们调用<code>fp.read()</code> 一次性读取所有的内容。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> fp.read()</div><div class="line">&#123;<span class="string">"last_check"</span>:<span class="string">"2017-05-02T14:11:27Z"</span>,<span class="string">"pypi_version"</span>:<span class="string">"9.0.1"</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>fp.close()</div></pre></td></tr></table></figure>
<p>最后，调用<code>fp.close()</code> 关闭文件对象，释放文件资源。如果不释放，文件对象会占占用操作系统的资源。</p>
<p>这里我们要注意，如果文件不存在会抛出<code>IOError</code>, 程序会立即停止。 后面的<code>fp.close()</code>就不会关闭。</p>
<p>app.py文件内容：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/env python </span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line">fp = open(<span class="string">'./pip-selfcheck.jsons'</span>, <span class="string">'r'</span>)</div><div class="line"><span class="keyword">print</span> <span class="string">"文件不存在"</span></div><div class="line">fp.close()</div></pre></td></tr></table></figure>
<p>执行结果， 并抛出<code>IOError</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Traceback (most recent call last):</div><div class="line">  File &quot;/Users/lanyouhua/Desktop/pythonDemo/app.py&quot;, line 4, in &lt;module&gt;</div><div class="line">    fp = open(&apos;./pip-selfcheck.jsons&apos;, &apos;r&apos;)</div><div class="line">IOError: [Errno 2] No such file or directory: &apos;./pip-selfcheck.jsons&apos;</div></pre></td></tr></table></figure>
<p>使用<code>read()</code> 函数，会一次读取全部内容。如果文件很多，内存很容易就被被塞满了。 所以提供了<code>read(size)</code>函数，读取size单位为Bytes. 如果不指定就会读取全部内容。如果读取的是文本内容，可以使用<code>readlines()</code>一次性读取多行内容。</p>
<h4 id="文件写入"><a href="#文件写入" class="headerlink" title="文件写入"></a>文件写入</h4><p>写文件与读文件一样，都要调用<code>open()</code>函数，只不过标示符采用的是”w”, 表示写文件。这里的路径如果是当前执行脚本所在目录下面文件可以直接创建，如果有子目录就不抛出错误<code>IOError</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">fp = open(<span class="string">'./test.txt'</span>, <span class="string">'w'</span>)</div><div class="line">fp.write(<span class="string">"hello world"</span>);</div><div class="line">fp.close()   <span class="comment"># 关闭之后从新打开文件，并读取内容</span></div><div class="line">fp = open(<span class="string">'./test.txt'</span>, <span class="string">'r'</span>)</div><div class="line"><span class="keyword">print</span> fp.read()</div></pre></td></tr></table></figure>
<p>这里要注意，当我们写文件时，操作系统旺旺不会立即把数据写入磁盘，而是放到内存缓存起来，空闲的时候再慢慢写入。只有调用<code>close()</code>方法时，操作系统才保证把内有写入的数据全部写入磁盘。忘记调用<code>close()</code>的后果是数据可能只写到一部分，剩下的全部丢失。 所以可以使用<code>with</code>语句来避免这种问题。</p>
<h4 id="快捷方式"><a href="#快捷方式" class="headerlink" title="快捷方式"></a>快捷方式</h4><p>with 对一些内建的对象进行了改进，加入了上下文管理器的支持，可以用于with语句中，比如可以自动关闭文件、线程锁的自动获取和释放等。这里我们只用它来自动关闭文件的功能。</p>
<p>改进代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">with</span> open(<span class="string">'./test.txt'</span>, <span class="string">'w'</span>) <span class="keyword">as</span> fp:</div><div class="line">  fp.write(<span class="string">"hello world, by with"</span>);</div><div class="line"></div><div class="line"><span class="keyword">with</span> open(<span class="string">'./test.txt'</span>, <span class="string">'r'</span>) <span class="keyword">as</span> fp:</div><div class="line">  <span class="keyword">print</span> fp.read()</div></pre></td></tr></table></figure>
<p>使用<code>with</code> 之后，就不需要手动关闭打开的文件，它会自动帮我们释放占有的文件资源。</p>
<h4 id="二进制文件"><a href="#二进制文件" class="headerlink" title="二进制文件"></a>二进制文件</h4><p>之前我们都是读取的文本文本，并且是UTF-8编码的文本文件，要读取视频，图片， 音频等二进制文件，需要在表示后面机上”b”, 例如读二进制文件”rb”.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;</span>&gt;&gt; f = open('./test.png', 'rb')</div><div class="line"><span class="meta">&gt;</span>&gt;&gt; f.read()</div><div class="line">'\x89PNG\r\n\x1a\n\x00\x00\x00\rIHDR\...</div></pre></td></tr></table></figure>
<p>常用的文件标示符：</p>
<table>
<thead>
<tr>
<th style="text-align:center">文件标示符</th>
<th>函数</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">w</td>
<td>以写方式打开</td>
</tr>
<tr>
<td style="text-align:center">a</td>
<td>以追加模式打开</td>
</tr>
<tr>
<td style="text-align:center">r+</td>
<td>以读写模式打开</td>
</tr>
<tr>
<td style="text-align:center">w+</td>
<td>以读写模式打开</td>
</tr>
<tr>
<td style="text-align:center">a+</td>
<td>以读写模式打开</td>
</tr>
<tr>
<td style="text-align:center">rb</td>
<td>以二进制读模式打开</td>
</tr>
<tr>
<td style="text-align:center">wb</td>
<td>以二进制写模式打开</td>
</tr>
<tr>
<td style="text-align:center">ab</td>
<td>以二进制追加模式打开</td>
</tr>
<tr>
<td style="text-align:center">rb+</td>
<td>以二进制读写模式打开</td>
</tr>
<tr>
<td style="text-align:center">wb+</td>
<td>以二进制读写模式打开</td>
</tr>
<tr>
<td style="text-align:center">ab+</td>
<td>以二进制读写模式打开</td>
</tr>
</tbody>
</table>
<h4 id="字符编码问题"><a href="#字符编码问题" class="headerlink" title="字符编码问题"></a>字符编码问题</h4><p>要读取非ASCII编码的文本文件，就必须以二进制模式打开，再解码。比如GBK编码的文件:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">f = open(<span class="string">'./gbk.txt'</span>, <span class="string">'rb'</span>)</div><div class="line">u = f.read().decode(<span class="string">'gbk'</span>)</div><div class="line"><span class="keyword">print</span> u</div><div class="line"><span class="comment"># u'\u6d4b\u8bd5'</span></div></pre></td></tr></table></figure>
<h3 id="文件夹的操作"><a href="#文件夹的操作" class="headerlink" title="文件夹的操作"></a>文件夹的操作</h3><h4 id="文件夹的创建"><a href="#文件夹的创建" class="headerlink" title="文件夹的创建"></a>文件夹的创建</h4><p>python 文件夹的创建是在os模块的<code>mkdir()</code>和<code>makedirs()</code>两个函数，后者支持递归创建。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 创建文件夹,不能递归</span></div><div class="line"><span class="keyword">print</span> os.mkdir(<span class="string">'./createFoloder'</span>)</div><div class="line"></div><div class="line"><span class="comment"># 递归创建文件夹  the default mode 0777</span></div><div class="line"><span class="keyword">print</span> os.makedirs(<span class="string">'./test_parent/test_sub'</span>)</div></pre></td></tr></table></figure>
<h4 id="文件夹的删除"><a href="#文件夹的删除" class="headerlink" title="文件夹的删除"></a>文件夹的删除</h4><p>python 文件夹的删除是在os模块的<code>rmdir()</code>和<code>removedirs()</code>两个函数，后者支持递归删除。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 删除文件夹，不能递归删除文件夹</span></div><div class="line"><span class="keyword">print</span> os.rmdir(<span class="string">'./createFoloder'</span>)</div><div class="line"><span class="comment"># 递归删除文件夹</span></div><div class="line"><span class="keyword">print</span> os.removedirs(<span class="string">'./test_parent/test_sub'</span>)</div></pre></td></tr></table></figure>
<h4 id="文件夹的遍历"><a href="#文件夹的遍历" class="headerlink" title="文件夹的遍历"></a>文件夹的遍历</h4><p>os.path模块提供了文件遍历的方法，只需要提供回调函数，遍历文件路径，就可以快速遍历文件夹下面的文件。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">visit</span><span class="params">(arg, dirname, names)</span>:</span></div><div class="line">  <span class="keyword">print</span> <span class="string">'dirname: %s'</span> % dirname  <span class="comment"># 当前遍历文件目录</span></div><div class="line">  <span class="keyword">print</span> names  <span class="comment"># 当前遍历目录下面的文件名</span></div><div class="line"></div><div class="line"><span class="comment"># 参数 path, callback(arg, dirname, names), arg</span></div><div class="line">os.path.walk(os.path.realpath(<span class="string">'.'</span>), visit, <span class="string">'a'</span>)</div></pre></td></tr></table></figure>
<p>列出目录下的文件，可以使用os模块的<code>listdir(path)</code> :</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.listdir(<span class="string">'.'</span>)</div><div class="line">[<span class="string">'.Python'</span>, <span class="string">'app.py'</span>, <span class="string">'bin'</span>, <span class="string">'gbk.txt'</span>, <span class="string">'include'</span>, <span class="string">'lib'</span>, </div><div class="line"><span class="string">'pip-selfcheck.json'</span>, <span class="string">'test.txt'</span>, <span class="string">'test_rename.png'</span>, <span class="string">'test_sub'</span>]</div></pre></td></tr></table></figure>
<h4 id="当前环境目录的变更"><a href="#当前环境目录的变更" class="headerlink" title="当前环境目录的变更"></a>当前环境目录的变更</h4><p>os模块的<code>chdir(path)</code> 可以将当前脚本执行环境切换到任意位置。这个方法很有用，但我们使用os模块的<code>system(commend)</code>函数执行shell命名的时候，可以快速切换shell命名的执行目录。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> os</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.realpath(<span class="string">'.'</span>)</div><div class="line"><span class="string">'/Users/lan/Desktop/pythonDemo'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.chdir(<span class="string">'../'</span>) 			<span class="comment"># 这里改变了 当前修改了当前执行环境的根目录.</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.realpath(<span class="string">'.'</span>)</div><div class="line"><span class="string">'/Users/lan/Desktop'</span></div></pre></td></tr></table></figure>
<h3 id="文件状态读取操作"><a href="#文件状态读取操作" class="headerlink" title="文件状态读取操作"></a>文件状态读取操作</h3><p>当我们想监控本地文件状态的时候，就需要系统提供的函数 <code>os.stat()</code>函数，他可以返回该文件或者文件夹详细的信息，包括：文件大小、文件最近的访问时间、文件的权限、文件的修改时间、文件的创建时间等常用的信息。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> os,time,stat  </div><div class="line"></div><div class="line"><span class="comment">#获取文件/目录的状态 </span></div><div class="line">fileStats = os.stat ( <span class="string">'./exampleData/test_ignore.txt'</span> )                          </div><div class="line">fileInfo = &#123;  </div><div class="line"><span class="string">'Size'</span>:fileStats [ stat.ST_SIZE ],  <span class="comment">#获取文件大小                         </span></div><div class="line"><span class="string">'LastModified'</span>:time.ctime( fileStats [ stat.ST_MTIME ] ),<span class="comment">#获取文件最后修改时间  </span></div><div class="line"><span class="string">'LastAccessed'</span>:time.ctime( fileStats [ stat.ST_ATIME ] ),<span class="comment">#获取文件最后访问时间  </span></div><div class="line"><span class="string">'CreationTime'</span>:time.ctime( fileStats [ stat.ST_CTIME ] ),<span class="comment">#获取文件创建时间  </span></div><div class="line"><span class="string">'Mode'</span>:fileStats [ stat.ST_MODE ]   <span class="comment">#获取文件的模式, 也就是表示权限 </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在文件模式中，还提供了更多的文件信息，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#print fileInfo  </span></div><div class="line"><span class="keyword">for</span> field <span class="keyword">in</span> fileInfo:                               <span class="comment">#显示对象内容  </span></div><div class="line">        <span class="keyword">print</span> <span class="string">'%s:%s'</span> % (field,fileInfo[field])  </div><div class="line">        </div><div class="line"><span class="keyword">if</span> stat.S_ISDIR ( fileStats [ stat.ST_MODE ] ):      <span class="comment">#判断是否路径  </span></div><div class="line">        <span class="keyword">print</span> <span class="string">'Directory. '</span>  </div><div class="line"><span class="keyword">else</span>:  </div><div class="line">        <span class="keyword">print</span> <span class="string">'Non-directory.'</span>  </div><div class="line">  </div><div class="line"><span class="keyword">if</span> stat.S_ISREG ( fileStats [ stat.ST_MODE ] ):      <span class="comment">#判断是否一般文件  </span></div><div class="line">   <span class="keyword">print</span> <span class="string">'Regular file.'</span>  </div><div class="line"></div><div class="line"><span class="keyword">elif</span> stat.S_ISLNK ( fileStats [ stat.ST_MODe ] ):    <span class="comment">#判断是否链接文件  </span></div><div class="line">   <span class="keyword">print</span> <span class="string">'Shortcut.'</span>  </div><div class="line"></div><div class="line"><span class="keyword">elif</span> stat.S_ISSOCK ( fileStats [ stat.ST_MODe ] ):   <span class="comment">#判断是否套接字文件       </span></div><div class="line">   <span class="keyword">print</span> <span class="string">'Socket.'</span>  </div><div class="line"></div><div class="line"><span class="keyword">elif</span> stat.S_ISFIFO ( fileStats [ stat.ST_MODe ] ):   <span class="comment">#判断是否命名管道  </span></div><div class="line">   <span class="keyword">print</span> <span class="string">'Named pipe.'</span>  </div><div class="line"></div><div class="line"><span class="keyword">elif</span> stat.S_ISBLK ( fileStats [ stat.ST_MODe ] ):    <span class="comment">#判断是否块设备  </span></div><div class="line">   <span class="keyword">print</span> <span class="string">'Block special device.'</span>  </div><div class="line"></div><div class="line"><span class="keyword">elif</span> stat.S_ISCHR ( fileStats [ stat.ST_MODe ] ):    <span class="comment">#判断是否字符设置  </span></div><div class="line">   <span class="keyword">print</span> <span class="string">'Character special device.'</span></div></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">LastModified:Mon May  8 20:10:15 2017</div><div class="line">Mode:33188</div><div class="line">CreationTime:Mon May  8 20:10:15 2017</div><div class="line">LastAccessed:Mon May  8 20:10:15 2017</div><div class="line">Size:0</div><div class="line">Non-directory.</div><div class="line">Regular file.</div></pre></td></tr></table></figure>
<h3 id="shutil-高级文件操作"><a href="#shutil-高级文件操作" class="headerlink" title="shutil 高级文件操作"></a>shutil 高级文件操作</h3><p>shutil是python 内键模块，支持更高级的文件操作，例如：拷贝文件、移动文件、拷贝删除文件树、拷贝文件权限、拷贝文件信息等等。</p>
<p> shutil模块的中<code>copyfileobj(fsrc, fdst, buffter_size)</code>函数，是根据文件对象进行文件拷贝，buffer_size表示每次读取并写入到目标文件的缓存大小，如果设置太大，会导致内存不可控：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> shutil</div><div class="line"></div><div class="line"><span class="comment"># 拷贝文件对象</span></div><div class="line">src_file = <span class="string">'./exampleData/test_video.mp4'</span>  <span class="comment"># 17.7MB</span></div><div class="line">dst_file = <span class="string">'./resultData/copyfilepbj_result.mp4'</span></div><div class="line"></div><div class="line">fsrc = open(src_file, <span class="string">'r'</span>);</div><div class="line">fdst = open(dst_file, <span class="string">'w'</span>);</div><div class="line"></div><div class="line"><span class="comment"># 参数: </span></div><div class="line"><span class="comment"># 1.目标文件对象</span></div><div class="line"><span class="comment"># 2.源文件对象</span></div><div class="line"><span class="comment"># 3.数据缓冲, 如果设置不合理，源文件过大，容易导致不可控的内存消耗</span></div><div class="line"><span class="comment"># 拷贝文件</span></div><div class="line">shutil.copyfileobj(fsrc, fdst, <span class="number">100</span>);</div><div class="line"></div><div class="line">fsrc.close();</div><div class="line">fdst.close();</div></pre></td></tr></table></figure>
<p>同时，shutil还提供了直接根据文件目录进行拷贝的函数：<code>copyfile(src_file, dst_file)</code>， 这里没有指定缓存大小，所以建议不要拷贝用该函数拷贝太大的文件。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">src_file = <span class="string">'./exampleData/test_video.mp4'</span>  <span class="comment"># 17.7MB</span></div><div class="line">dst_file = <span class="string">'./resultData/copyfile_result.mp4'</span></div><div class="line"><span class="comment"># 拷贝文件，这里传入的是文件的完整路径, </span></div><div class="line"><span class="comment"># 源文件和目标那文件不能是一样的，否则会报错。目标文件的权限必须是可写入的。</span></div><div class="line">shutil.copyfile(src_file, dst_file);</div></pre></td></tr></table></figure>
<p>在Unix创建文件一个新文件的时候，会根据当前用户的umask接收权限。要把权限从一个文件夹复制到另一个文件，可以使用<code>copymode()</code>函数.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">src_file = <span class="string">'./exampleData/test_video.mp4'</span>  <span class="comment"># 17.7MB</span></div><div class="line">dst_file = <span class="string">'./resultData/copyfile_result.mp4'</span></div><div class="line"><span class="keyword">print</span> <span class="string">'======= copy_mode before ======='</span></div><div class="line">os.chmod(dst_file, <span class="number">0444</span>);</div><div class="line"><span class="keyword">print</span> os.stat(dst_file);</div><div class="line"></div><div class="line"><span class="comment"># 主要拷贝的文件的权限， 文件的内容，拥有者，组不受影响。 </span></div><div class="line"><span class="comment"># 目标文件必须存在。</span></div><div class="line">shutil.copymode(src_file, dst_file);</div><div class="line"></div><div class="line"><span class="comment"># 主要拷贝问文件的权限， 最近访问时间，最近修改时间和 标志位。</span></div><div class="line"><span class="comment"># 拥有者，组不受影响。 目标文件必须存在。</span></div><div class="line">shutil.copystat(src_file, dst_file);</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">'======= copy_mode after ========'</span></div><div class="line"><span class="keyword">print</span> os.stat(dst_file);</div></pre></td></tr></table></figure>
<p>执行结果:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">======= copy_mode before =======</div><div class="line">posix.stat_result(</div><div class="line">st_mode=33060, </div><div class="line">st_ino=23458152, </div><div class="line">st_dev=16777220, </div><div class="line">st_nlink=1, </div><div class="line">st_uid=501, </div><div class="line">st_gid=20, </div><div class="line">st_size=17723429, </div><div class="line">st_atime=1494254619, </div><div class="line">st_mtime=1494254619, </div><div class="line">st_ctime=1494254619)</div><div class="line">======= copy_mode after ========</div><div class="line">posix.stat_result(</div><div class="line">st_mode=33261, </div><div class="line">st_ino=23458152, </div><div class="line">st_dev=16777220, </div><div class="line">st_nlink=1, </div><div class="line">st_uid=501, </div><div class="line">st_gid=20, </div><div class="line">st_size=17723429, </div><div class="line">st_atime=1494254619, </div><div class="line">st_mtime=1494245415, </div><div class="line">st_ctime=1494254619)</div></pre></td></tr></table></figure>
<p> 其中<code>st_mode</code>权限改为源文件的权限。其中<code>copystat()</code>函数只拷贝的是文件的权限，<code>coystat()</code>函数拷贝的是文件权限，最近访问时间，修改时间和标志位。</p>
<p>上面提到的拷贝只能拷贝文件，而不能拷贝文件夹，shutil模块的<code>copy()</code>和<code>copy2()</code>函数，支持拷贝文件夹。区别在于<code>copy2()</code>是<code>copy()</code>和<code>copystat()</code>结合。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">src_file = <span class="string">'./exampleData/test_video.mp4'</span>  <span class="comment"># 17.7MB</span></div><div class="line">dst_file = <span class="string">'./resultData'</span></div><div class="line"></div><div class="line"><span class="comment"># 拷贝文件到目标文件或者文件夹，如果是文件夹，</span></div><div class="line"><span class="comment"># 则目标文件名和源文件名一致。权限位也拷贝。</span></div><div class="line">shutil.copy(src_file, dst_file);</div><div class="line"></div><div class="line">dst_file = <span class="string">'./resultData/copy2_result.mp4'</span></div><div class="line"></div><div class="line"><span class="comment"># 和copy很相似， 同时把文件的相关信息也拷贝到目标文件及文件夹，</span></div><div class="line"><span class="comment"># 相当于同时做了copystat()和copy()操作。</span></div><div class="line">shutil.copy2(src_file, dst_file)</div></pre></td></tr></table></figure>
<p>当我们需要拷贝文件夹下面的所有的内容时候，上述方法可以实现，但是比较麻烦。shutil模块自带了拷贝文件树的函数：<code>shutil.copytree(src_dir,dst_dir , symlinks=False, ignore=None)</code>, 其中 symlink默认是True,就是拷贝连接文件的相关内容，如果改为False则只拷贝文件连接； ignore 后面可以跟上ignore_patterns函数,用户过滤不需要拷贝的文件，例如：<code>shutil.ignore_patterns(&#39;*.txt&#39;)</code>， 不拷贝扩展名为txt的文件。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># shutil.copytree(src, dst, symlinks=False, ignore=None)</span></div><div class="line"><span class="comment"># symlinks参数控制着符号链接作为链接复制还是文件复制。</span></div><div class="line"><span class="comment"># ignore 根据ignore_patterns 正则，过滤掉</span></div><div class="line"><span class="comment"># 默认将内容复制到新文件，如果选项为true，会在目标中创建新的符号链接</span></div><div class="line"><span class="comment"># 目标文件必须不存在。拷贝的同时会自动创建。</span></div><div class="line"><span class="comment"># 同时针对文件夹，使用copystat(). 文件使用copy2()</span></div><div class="line">shutil.copytree(<span class="string">'./exampleData'</span>, <span class="string">'./resultData2'</span>, symlinks=<span class="keyword">False</span>, ignore=shutil.ignore_patterns(<span class="string">'*.txt'</span>))</div></pre></td></tr></table></figure>
<p>同时python 也提供了删除整个文件夹的函数：rmtree(path, ignore_errors, onerror) 。path是要删除文件夹路径， ignore_errors表示如果出现了某写文件被系统其他任务占用无法删除，是够忽略错误， 如果为False，遇到错误直接抛出异常。onerror 表示错误回调处理。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># shutil.rmtree(path, ignore_errors, onerror)</span></div><div class="line"><span class="comment"># 参数：ignore_errors 移除失败，是否忽略错误，否则报错。</span></div><div class="line"><span class="comment"># 提供oneerror 接收三个参数：function，path， execinfo</span></div><div class="line"><span class="comment"># function 处理异常错误 可能是</span></div><div class="line"><span class="comment"># os.path.islink(), os.listdir(), os.remove() or os.rmdir()</span></div><div class="line"><span class="comment"># path 文件路径</span></div><div class="line"><span class="comment"># 额外信息 有 sys.excinfo() 返回</span></div><div class="line"><span class="comment"># 发生错误才会调用</span></div><div class="line">shutil.rmtree(<span class="string">'./resultData2'</span>,<span class="keyword">True</span>);</div></pre></td></tr></table></figure>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>python 相比较C/C++等语言， 本身提供大量了好用的、便捷的函数给开发者，让开发者只关注业务逻辑而不是语言本身及算法。给开发者节省了大量的时间，这里只是介绍文件处理相关操作。</p>

        </div>
        <footer class="article-footer">
            

    <div class="bdsharebuttonbox">
    <a href="#" class="bds_more" data-cmd="more">分享到：</a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间">QQ空间</a>
    <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博">新浪微博</a>
    <a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博">腾讯微博</a>
    <a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网">人人网</a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信">微信</a>
</div>
<script>
window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{"bdSize":16}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>
<style>
    .bdshare_popup_box {
        border-radius: 4px;
        border: #e1e1e1 solid 1px;
    }
    .bdshare-button-style0-16 a,
    .bdshare-button-style0-16 .bds_more {
        padding-left: 20px;
        margin: 6px 10px 6px 0;
    }
    .bdshare_dialog_list a,
    .bdshare_popup_list a,
    .bdshare_popup_bottom a {
        font-family: 'Microsoft Yahei';
    }
    .bdshare_popup_top {
        display: none;
    }
    .bdshare_popup_bottom {
        height: auto;
        padding: 5px;
    }
</style>



        </footer>
    </div>
</article>

    <section id="comments">
    
    </section>


                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/lanYouHua" target="_blank">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="weibo" href="http://weibo.com/u/3208223907" target="_blank">
                        <i class="icon fa fa-weibo"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2017/05/07/2017-05-06-mysql-insert-update/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">newer</strong>
        <p class="article-nav-title">
        
            MySQL 之 INSERT TABLE … VALUES …  ON DUPLICATE KEY UP DATE … 用法总结
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
</nav>

    
    <div class="widgets-container">
        
            
                
    <div class="widget-wrap">
        <h3 class="widget-title">recents</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/05/13/2017-05-13-python-object/" class="thumbnail">
    
    
        <span style="background-image:url(http://ww3.sinaimg.cn/large/006tKfTcgy1ffhtoly4sij30sg0is417.jpg)" alt="python学习之面向对象" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Technology/">Technology</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Technology/Python/">Python</a></p>
                            <p class="item-title"><a href="/2017/05/13/2017-05-13-python-object/" class="title">python学习之面向对象</a></p>
                            <p class="item-date"><time datetime="2017-05-13T01:05:06.000Z" itemprop="datePublished">2017-05-13</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/05/07/2017-05-06-mysql-insert-update/" class="thumbnail">
    
    
        <span style="background-image:url(http://ww3.sinaimg.cn/large/006tKfTcgy1ffhtmwpoupj30d206yjrc.jpg)" alt="MySQL 之 INSERT TABLE … VALUES …  ON DUPLICATE KEY UP DATE … 用法总结" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Technology/">Technology</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Technology/MySQL/">MySQL</a></p>
                            <p class="item-title"><a href="/2017/05/07/2017-05-06-mysql-insert-update/" class="title">MySQL 之 INSERT TABLE … VALUES …  ON DUPLICATE KEY UP DATE … 用法总结</a></p>
                            <p class="item-date"><time datetime="2017-05-07T06:50:03.000Z" itemprop="datePublished">2017-05-07</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/05/07/2017-05-07-python-file-operation/" class="thumbnail">
    
    
        <span style="background-image:url(http://ww3.sinaimg.cn/large/006tKfTcgy1ffhtoly4sij30sg0is417.jpg)" alt="python学习之文件操作" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Technology/">Technology</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Technology/Python/">Python</a></p>
                            <p class="item-title"><a href="/2017/05/07/2017-05-07-python-file-operation/" class="title">python学习之文件操作</a></p>
                            <p class="item-date"><time datetime="2017-05-07T06:50:03.000Z" itemprop="datePublished">2017-05-07</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Technology/">Technology</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Technology/MySQL/">MySQL</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Technology/Python/">Python</a><span class="category-list-count">2</span></li></ul></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">3</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">tags</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a><span class="tag-list-count">2</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/Python/" style="font-size: 20px;">Python</a>
        </div>
    </div>


            
        
    </div>
</aside>
                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2017 Lanyouhua</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
        </div>
    </div>
</footer>
        


    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
        </script>
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    


<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>
